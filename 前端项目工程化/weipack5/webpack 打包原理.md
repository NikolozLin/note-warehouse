## 基本概念
- Entry ：执行构建的起始位置
- Module： Webpack 中所有一切都可视为模块，一个模块对应一个文件。打包时从entry开始递归找出所有依赖的模块。
- Chunk ： 一个Chunk由多个Module组合而成，用于代码分割与合并。
- Loader：模块转换器，用于Module的内容转化新的内容（webpack 无法识别非js的内容，需要进行转换）
- Plugin： Webpack在构建流程中会通过发布订阅模式进行广播，插件可以监听这些广播，在合适的时机通过 Webpack 提供的 API 改变输出结果。

## 执行大体流程
1. **参数初始化：** 从配置、shell读取合并参数，得出最终参数
2. **开始编译：** 用上一步得到的参数初始化`Compiler`，加载配置中的插件，并执行`run`方法开始编译
3. **确定入口：** 根据配置中的`entry`找到所有的入口文件
4. **编译模块：** 从入口文件出发，调用所有配置的`loader`对模块进行编译，再找出模块所依赖的模块，递归本过程直到找到所有的依赖到的模块。
5. **完成编译：** 经过第4步，编译所有的模块后，得到模块编译后的内容和他们之间的依赖关系
6. **输出资源：** 根据入口文件和模块的依赖关系，组装成包含多个模块的`Chunk` ,再把每个`Chunk`转换成一个单独文件加入到输出列表（这里是最后修改输出内容的机会）
7. **输出完成：** 确定好输出内容后，根据配置确定输出的路径和文件名，把文件写入文件系统
> 在上述过程中，Webpack会在特定时机广播特定事件，插件在监听特定事件后会执行特定逻辑。且插件可以调用Webpack提供的api改变webpack的运行结果。

## 执行细节
总体可以分为三个阶段：
1. 初始化 ：启动构建， 读取并合并配配置参数，加载Plugin ，实力话Compiler
2. 编译 ： 从Entry出发，针对每个Module 串行调用对应的Loader 翻译文件，并找到它所依赖的Module递归执行该步骤
3. 输出： 对编译后的Module组合成Chunk，并把Chunk转换为文件，输出到文件提供。

> 如果只执行一次构建，上述阶段只执行一次。如果开启监听，当Plugin 会重新进行 编译、输出。
### 三个阶段的监听事件
[集体事件-详细参考](https://webpack.wuhaolin.cn/5%E5%8E%9F%E7%90%86/5-1%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E6%A6%82%E6%8B%AC.html)


