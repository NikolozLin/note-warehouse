
## 类和样式绑定
### 绑定 `HTML` 类

- 对象语法  
    对象中的key必须是`HTML`类，如果填入的是变量名不会进行取值，而是直接寻找变量名同名的`HTML`类。
    - 给`div`的`class`绑定一个`active`的类，如果isActive为true。
        ```html
        <div :class="{active:isActive}"></div>
        ```
    - 同时设定多个类用 `,` 隔开
        ```html
        <div class="static" :class="{active:isActive ,'text-danger': hasError }"></div>
        ```
    - 可以绑定 计算属性。classObject为vue的计算属性，返回值是一个对象。对象内容与前面类似。
        ```html
        <div :class="classObject"></div>
        ```
- 数组语法  
    - 传递一个数组，包含`HTMl`类名的字符串。 或字符串变量名
        ```html
        <div :class="[activeClass,'text-danger']"></div>
        ```
    - 数组中可以使用三元表达式，表示一个条件类
        ```html
        <div :class="[isActive ? activeClass : '','text-danger']"></div>
        ```
    - 存在多个条件类，使用对象语法混合使用。注意！在对象语法里面 类名只能是`HTMl`类名，不能是表示该类名的字符串变量名
        ```html
        <div :class="[{ active: isActive },'text-danger']"></div>
        ```
- 给自定义组件绑定`HTML`类  
    - 单个根元素-自定义组件-----使用自定义组件，给组件绑定类不会覆盖原有的类，将与定义组件时设定的类同时存在。 
        ``` js
        //组件定义 component.vue
        const app=Vue.createApp({})
        app.component('my-component',{
            template:`<p class=' foo bar'>Hi</p>`
        })
        ```
        ```html
        <!-- 使用上面的组件 -->
        <div id="app">
            <my-component class="foo2 bar2"></my-component>
        </div>
        ```
        最终渲染结果
        ```html
        <p class=' foo bar foo2 bar2 '>Hi</p>      
        ```
    - 单根元素-自定义组件-----使用对象语法、数组语法与上类似, 表达式的结果会与组件内定义共存。
    - 多根元素-自定义组件-----需要使用`$attrs`指定那个根元素接收 类。
        ```html
        <!-- 传递两个类-->
        <div id="app">
            <my-component class="foo2 bar2"></my-component>
        </div>
        ```
         ``` js
        //多根元素，指定接收类的根元素
        const app=Vue.createApp({})
        app.component('my-component',{
            template:`
                <p :class="$attrs.class">Hi</p>
                <span>This is a child component</span>
                `
        })
        ```
### 绑定 内联样式
- 对象语法  
    - 为`:style`赋值一个对象。可以使用‘驼峰’或‘横杠’的形式作为`CSS`属性名， 值可以包含CSS样式值得变量名、也可以是 CSS样式值的字符串  

        ```html
        <div :style="{color: activeColor,fontSize:fontSize+'px'}">
        ```
        ```js
        data(){
            return{
                activeColor: 'red',
                fontSize: 30
            }
        }
        ```  
    - 或者直接绑定样式对象,一般结合 计算属性使用  

        ```html
        <div :style="styleObject">
        ```
        ```js
        data(){
            return{
                styleObject：{
                     color: 'red',
                     fontSize: '30px'
                }
            }
        }
        ```  

- 数组语法  
    - `:style`数组语法可以将多个 样式对象 应用到同一个元素上，如果对象中存在与前一个对象相同的样式，后者会覆盖前者

        ```html
        <div :style="[style1,style2,style3]">
        <!-- 结果如下  -->
        <div style="color: red; font-size: 40px; font-weight: bolder;" >
        ```
        ```js
        data(){
            return{
                style1: { color: "blue" },
                style2: { fontSize: "5px", color: "red" },
                style3: { fontWeight: "bolder", fontSize: "40px" },
            }
        }
        ```  

- 自动前缀   
    - 在绑定有浏览器引擎前缀CSS属性时会自动添加前缀

- 多个值  
    - `:style`绑定时，可以为绑定的property 提供一数组，包含了多个带前缀的值。 如果浏览器引擎支持则，会显示数组中最后一个支持的值。
        ```html
        <div :style="{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }">
        ```

## 条件渲染 （略）
- `v-if` 、 `v-else`、`v-else-if`、`v-show` 等。。。
- （2.6.x 版本）`v-if`与`v-for`不能连用,`v-for`优先级比`v-if`高，所以`v-if`在每一个`v-for`循环中都进行判断。   
- （3.0 版本）`v-if`与`v-for`不能连用,`v-if`优先级比`v-for`高，所以`v-if`无法获取`v-for`范围内的变量

## 列表渲染 
- 数组渲染 `v-for="item in arrays" :key='item.id'`
    - 提供第二个参数获得索引 `v-for="(item,index) in arrays" :key='index'`
    - 使用`for...of` 代替`for...in`
- 对象渲染 `v-for="value in objects" `
    - 提供第二参数获得属性名`name`  `v-for="(value,name) in objects"`
    - 提供第三参数获得索引`index`，顺序根据`Object.keys()`的遍历结果确定。 `v-for="(value,name，index) in objects"`
- 列表渲染中的状态维护
    - `v-for`渲染更新时，采用“就地更新”策略。若数据项顺序改变，Vue不会更新移动dom元素，而会适当的修改每个元素，使其反应特定索引的内容。  
    - 如果使用了`key`，Vue在虚拟DOM算法中，新旧VNode节点对比时，会基于`key`变化重新排列元素顺序，并会除移`key`不存在的元素。
- 数组更新检测
    -`push()、pop()、shift()、unshift()、splice()、sort()、reverse()`方法更新也会触发识图更新。
- 数组替换
    - `filter() concat() slice()`不改变原数组，而返回新数组。Vue不会完全弃用现在的`DOM`，而是尽可能重用。
- 显示排序/筛选结果
    - 使用计算属性
- `v-for ...in range` 
- `v-for` `<template>`  多一个包裹多个元素块，每次遍历都渲染整个块

- `v-for`与`v-if` 混用
    > `★☆☆`  3.0版本 调节了两者的优先级
    - 由于`v-if`的优先级提高，先于`v-for执行`就无法获取`v-for`中的变量，如果需要获取变量可将`v-for`移到包装`<template>`解决问题
        ```html
        <template v-for="todo in todos">
          <li v-if="!todo.isComplete">
            {{ todo }}
          </li>
        </template>
        ```
- `v-for`与组件   在循环时如果要传递给组件内部 需要使用`v-bind`绑定数据  

## 事件处理
我们可以用`v-on`指令监听DOM事件，触发一些js代码。指令`v-on`可以简写成`@`。 
1. 指令可以接收方法名`fnName`或者调用方法`fnName(xxx)`，也可以简单的js代码。
2. 如果在调用方法是需要访问原始的`DOM`事件。可在方法参数代入`$event`变量。
3. （新）多事件处理 --多个处理方法使用逗号分隔，并按顺序执行。
4. 事件修饰符  
    使用`event.preventDefault()` `event.stopPropagation()` 事件处理中经常使用，vue提供事件修饰符简化这过程，让事件处理保持纯粹的数据或逻辑而不是DOM事件。
    - `.stop` -- 等同于`event.stopPropagation()`，阻止事件的冒泡
    - `.prevent` -- 等同于`event.preventDefault()`，阻止执行预设的行为
    - `.capture` -- 事件触发不在冒泡阶段，而在捕获阶段触发
    - `.self` -- 只有在`event.target`是当前元素时触发函数，元素内部触发的事件无用。
    - `.once` -- 事件只触发一次，触发后会删除本身的监听事件
    - `.passive` --表示listener 永远不会调用`preventDefault()`,如果依旧调用则会抛出警告。
        > - passive 是针对移动设备滑动卡顿而出现的。

        > - 在`touch`事件对象的 cancelable 属性为true，表示默认行为监听器可以通过preventDefault()方法阻止。  

        > - 通常的 `touch`事件用于滑动时进行监听，默认的行为是滚动页面。因为 cancelable 属性为true，默认行为可以被阻止。浏览器在处理时，不知道监听器`listener`处理事件的方法会不会调用`preventDefault()` 阻止默认行为（不进行滚动），所以浏览器会先不动，执行完监听方法后再操作。

        > - 执行空的监听器方法再执行默认行为也会有微小的卡顿， 通常80%的touch事件不会阻止默认行为（chrome的数据），所以提供了一下心得属性`passive`让浏览器知道内部没有执行`preventDefault()`方法可以直接执行默认操作，不用等待监听器执行完毕，不用白等事件。
5. 修饰符连用  
    - 按照修饰符顺序触发，前面的触发了才回去执行后面的
    - `.passive`与`.prevent` 无法连用，`.passive`表示监听器内部不会调用`event.preventDefault()`阻止默认行为，语义和`.prevent`修饰符冲突。如果一起连用`.prevent`修饰符会被忽略。
6. 按键修饰符  
    - 监听键盘事件可以添加修饰符 `.keyup`,有效的键盘key可以在 [链接](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values) 找到，以`kebab-case`的方式添加在修饰符后面。
        ```html
        <input @keyup.enter="submit" />
        <input @keyup.page-down="PageDown" />
        ```
        - 按键别名 -- vue为常用的key添加了别名
            - `.enter`
            - `.tab`
            - `.delete` （同时捕获“删除”和“退格”键）
            - `.esc`
            - `.space`
            - `.up`
            - `.down`
            - `.left`
            - `.right `
    - 系统修饰键
        - `.ctrl`
        - `.alt`
        - `.shift`
        - `.meta` 在win系统是win，在mac上是⌘
        ```html
        <!-- ctrl +enter 的组合键 -->
        <!-- keyup 需要同时释放才会触发 -->
        <input @keyup.ctrl.enter="enter">
        ```
        -`.exact` 修饰符可以让你准确控制系统修饰键精确触发
        ```html
        <!-- 即使 Alt 或 Shift 被一同按下时也会触发 -->
        <button v-on:click.ctrl="onClick">A</button>
        <!-- 有且只有 Ctrl 被按下的时候才触发 -->
        <button v-on:click.ctrl.exact="onCtrlClick">A</button>
        <!-- 没有任何系统修饰符被按下的时候才触发 -->
        <button v-on:click.exact="onClick">A</button>
        ```
    - 鼠标按键修饰符
        - `.left`
        - `.right`
        - `middle`


## 表单输入绑定
